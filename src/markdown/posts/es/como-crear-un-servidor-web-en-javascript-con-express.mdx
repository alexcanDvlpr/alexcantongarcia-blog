---
title: '쮺칩mo crear un servidor web en JavaScript con Express?'
seo_title: '游뱂 쮺칩mo crear un servidor web en JavaScript con Express?'
author: 'Alex Cant칩n'
avatar: 'https://res.cloudinary.com/dnnfr3jhi/image/upload/v1639592290/Blog/alex_r0u07u.jpeg'
thumbnail: 'https://images.unsplash.com/photo-1678138091332-432d4a1ac407?q=80&w=3270&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D'
date: '2021-12-16'
description: 'Tutorial desde 0 para crear un servidor web en JS (Node.js) con el framework de Express.js, uno de los m치s conocidos y minimalistas del mercado para el Backend. Con un 19.005.088 descargas de media en NPM (Node Package Manager)'
lang: 'es'
tags:
    - 'JavaScript'
    - 'Nodejs'
---

Desde que se cre칩 JavaScript (JS), se le ha denominado el "Lenguaje de la Web", y esto junto con algunas librer칤as como JQuery, hizo que se le denominara como un lenguaje de front. Pero desde hace unos a침os hasta la actualidad, con la aparici칩n de **Node.js** podemos programar con JS en la parte del backend.

Si es la primera vez que lees sobre **Node.js**, te estar치s preguntando... 쯈u칠 es Node.js? Podr칤as llegar a pensar que es un nuevo lenguaje basado en JavaScript como puede llegar a ser **TypeScript**, pero no, es un entorno de desarrollo de JS, basado en el motor V8 de Google, y fue creado por [Ryan Dahl](https://www.ecured.cu/Ryan_Lienhart_Dahl).

![Ryan Dahl](https://res.cloudinary.com/dnnfr3jhi/image/upload/v1639687783/Blog/Posts/server-node/04e9bf509eba71f9787154ed0ef3f569_ieet4d.jpg)

En este blog, se ver치 Node desde el punto de vista del desarrollo web, pero vale para **Desarrollo Web**, **IoT**, **Bots**, **Inteligencia Artificial** y un largo etc.

### 쮺칩mo crear un servidor web?

Para crear un servidor web, en este art칤culo voy a usar la librer칤a de **[Express.js](https://expressjs.com/es/)**, una librer칤a orientada al backend muy minimalista pero a la vez potente.

El primer paso ser칤a crear nuestro proyecto de Node, creamos nuestro directorio **primer-proyecto** y ejecutamos:

```shell
# Accedemos al directorio
$ cd primer-proyecto/
# Creamos proyecto node
$ npm init
```
La consola nos mostrar치 la primera versi칩n de nuestro **package.json** desde el cual podremos trabajar.
```shell
Press ^C at any time to quit.                                           
package name: (primer-proyecto)                                         
version: (1.0.0)                                                        
description:                                                            
entry point: (index.js)                                                 
test command:                                                           
git repository:                                                         
keywords:                                                               
author: Alex Canton                                                     
license: (ISC)                                                          
About to write to ~/primer-proyecto/package.json:
                                                                        
{                                                                       
  "name": "primer-proyecto",                                            
  "version": "1.0.0",                                                   
  "description": "",                                                    
  "main": "index.js",                                                   
  "scripts": {                                                          
    "test": "echo \"Error: no test specified\" && exit 1"               
  },                                                                    
  "author": "Alex Canton",                                              
  "license": "ISC"                                                      
}                                                                       
                                                                        
                                                                        
Is this OK? (yes)
```

Una vez creado nuestro proyecto, tendremos que instalar nuestra dependencia de Express, lo podemos hacer de esta manera:

```shell
$ npm install express -S -E
```

El flag `-S` es para que se a침ada en la secci칩n de **dependencies** en el `package.json` y el `-E` para instalar la versi칩n exacta. Si comprobamos el **package.json**, quedar칤a de esta manera:

```shell
$ cat package.json
{
  "name": "primer-proyecto",
  "version": "1.0.0",
  "description": "",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "author": "Alex Cant칩n",
  "license": "ISC",
  "dependencies": {
    "express": "4.17.1"
  }
}
```

Ahora que tenemos instalado Express, podemos empezar a desarrollar nuestro servidor. Abriremos nuestro fichero de entrada por defecto, el **index.js** y escribiremos:

```js
// Imports
const express = require('express')
const app = express()
// Puerto
const PORT = 3000
// Middlewares
app.use(express.json())
// Arrancar Servidor
app.listen(PORT, () => {
    console.log(`Server is running. http://localhost:${PORT}`)
})
```

En los siguientes puntos voy a explicar los diferentes pasos que he seguido en el c칩digo anterior.

#### 1. Imports

Lo primero que tendremos que hacer para que nuestro servidor funcione ser치 importar las librer칤as. En este caso, como la 칰nica que se ha instalado ha sido **express**, se importa y se almacena la librer칤a en la variable, el siguiente paso es crear una aplicaci칩n web con la funci칩n de **express()**.

Esta aplicaci칩n, ser치 la que arranquemos para tener nuestro servidor levantado.

#### 2. Puerto

Este paso es opcional para este ejemplo, pero he apartado el puerto porque en un proyecto mediano/grande, puede ser que el puerto vaya parametrizado dependiendo del entorno. Entonces puede ser buena pr치ctica tenerlo aparte como variable antes de aplicarlo a la funci칩n **.listen()**.

#### 3. Middlewares

Un Middleware, en t칠rminos generales, es un fragmento de c칩digo, que se ejecuta antes de la petici칩n principal. Por ejemplo, se puede usar un middleware para la autentificaci칩n, es decir, crear un <u>authMiddleware</u> y que se ejecute antes de cada petici칩n del servidor para poder garantizar que el servidor solo es accesible a los usuarios ya registrados.

Este Middleware en particular transforma tanto la petici칩n (**Request**) como la respuesta (**Response**) en un formato <u>**JSON**</u>, para mantener un estandar de comunicaci칩n con los clientes.

#### 4. Arrancar Servidor

En este bloque de c칩digo se ataca a **app.listen(...)**, que recibe como par치metro el puerto en el que se va a desplegar nuestra aplicaci칩n y el segundo par치metro es una funci칩n de callback que se ejecutar치 en el caso de que la aplicaci칩n arranque correctamente.

Esta ejecuci칩n servir치 para levantar nuestro <u>servidor backend en Node.js</u>.

#### Ejecuci칩n

Ahora que ya tenemos el fichero **index.js** completo, tendremos que comprobar que funciona, para ello iremos a nuestra consola de comandos y ejecutaremos:

```shell
$ node index.js
```

Si todo funciona correctamente deber칤a de mostrar el siguiente mensaje en la consola:

```shell
Server is running. http://localhost:3000
```

Pero con esto simplemente conseguiremos arrancar un servidor en el puerto 3000, pero no podemos acceder a 칠l. Si accedemos en un navegador a la ruta **http://localhost:3000** est칠 nos mostrar치 el mensaje `Cannot Get /`, esto quiere decir que no puede acceder a la ra칤z, pero la buena noticia es que el servidor funciona.

Explicado esto, vamos a crear una ruta de acceso (o **endpoint**) para poder acceder a la ra칤z.

#### Controlador

En nuestro <u>**index.js**</u>, antes del paso de **Arrancar Servidor**, a침adiremos el siguiente bloque de c칩digo:

```js
app.get('/', (req, res) => {
    return res.status(200).send({ message: 'Mensaje de respuesta' })
})
```

Con este c칩digo nuestro servidor ya tendr치 un punto de entrada en la ra칤z, mediante [el m칠todo GET de HTTP](https://developer.mozilla.org/es/docs/Web/HTTP/Methods), el cual nos devolver치 una respuesta, con un estado 200 ([C칩digos de respuesta de un servidor](https://developer.mozilla.org/es/docs/Web/HTTP/Status)) y un body en formato JSON con el siguiente formato:

```json
{
    "message": "Mensaje de respuesta"
}
```
#### Conclusi칩n

En este art칤culo hemos visto c칩mo podemos crear un servidor web con **JavaScript** y su framework backend m치s conocido, minimalista y potente del mercado, **Express.js**. Con unas pocas l칤neas hemos podido desplegar en el puerto 3000 un servicio que tiene un punto de entrada en la ra칤z del proyecto, en lo que ser칤a nuestro **http://localhost:3000/**.

Te dejo el enlace de mi GitHub para este art칤culo:
<GithubLink title="쮺칩mo crear un servidor en JavaScript con Node.js?" link="https://github.com/alexcanDvlpr/crear-servidor-node-basico" />
